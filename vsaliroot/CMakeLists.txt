
add_executable(testContourCreatorVsAliRoot
        testContourCreatorVsAliRoot.cxx
        commonContour.cxx
        commonContour.h)
target_link_libraries(testContourCreatorVsAliRoot PUBLIC contour MUONmapping STEERBase ROOT::Core MUONgraphics Boost::unit_test_framework)
add_test(NAME testContourCreatorVsAliRoot COMMAND testContourCreatorVsAliRoot)

foreach (impl RANGE 1 2 1)
    add_executable(testSegmentationVsAliroot${impl} testSegmentationVsAliRoot.cxx)
    target_link_libraries(testSegmentationVsAliroot${impl} PUBLIC MUONmapping STEERBase ROOT::Core MUONgraphics Boost::unit_test_framework segcontour${impl})
    add_test(NAME testSegmentationVsAliroot${impl} COMMAND testSegmentationVsAliroot${impl})

    add_executable(testSomeGlobalNumbers${impl} testSomeGlobalNumbers.cxx)
    target_link_libraries(testSomeGlobalNumbers${impl} PUBLIC segcontour${impl} MUONmapping STEERBase ROOT::Core MUONgraphics Boost::unit_test_framework)
    add_test(NAME testSomeGlobalNumbers${impl} COMMAND testSomeGlobalNumbers${impl})
endforeach ()

find_package(benchmark)
if (benchmark_FOUND)
    foreach (impl RANGE 1 2 1)
        add_executable(benchSegmentationVsAliRoot${impl} benchSegmentationVsAliRoot.cxx commonBench.h commonContour.cxx commonBench.cxx)
        target_link_libraries(benchSegmentationVsAliRoot${impl} PRIVATE benchmark::benchmark segcontour${impl} MUONmapping MUONgraphics STEERBase ROOT::Core)
    endforeach ()
    add_executable(benchContourVsAliRoot benchContourVsAliRoot.cxx commonBench.h commonContour.cxx commonBench.cxx)
    target_link_libraries(benchContourVsAliRoot PRIVATE benchmark::benchmark contour MUONmapping MUONgraphics STEERBase ROOT::Core)
endif ()
